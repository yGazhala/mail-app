<nav-status></nav-status>

<ul class="messageList_container" ng-if="$ctrl.isMessageListAllowed()">
    <input class="messageList_searchField" type="text" ng-model="searchText">
    <label class="messageList_searchIcon">&#128269;</label>

    <li ng-repeat="message in $ctrl.messages | orderBy: '-date' | filter:searchText"
        ui-sref="message({id: message.id})"
            >
        <div class="mailAddress">{{message.email}}</div>
        <div class="messageSubject">{{message.subject.slice(0, 21)}}</div>
        <div class="messagePreview">{{message.content.slice(0, 21)}}</div>
        <div class="messageDate">{{message.date|date:'MMM d'}}</div>
        <button class="removeMessageButton"
            ng-click="$ctrl.removeMessage(message);
                $event.stopPropagation()">x</button>
    </li>
</ul>

<ui-view></ui-view>


